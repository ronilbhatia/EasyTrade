import React from 'react';
import { NavLink } from 'react-router-dom';
import StockSearchBarContainer from '../stocks/stock_search_bar_container';

const NavBar = ({ currentUser, demoLogin, logout }) => {
  const toggleMode = (e) => {
    if (e.target.innerText === 'Dark Mode') {
      document.documentElement.setAttribute('data-theme', 'dark')
      e.target.innerText = 'Light Mode'
    } else {
      document.documentElement.removeAttribute('data-theme')
      e.target.innerText = 'Dark Mode'
    }
  }

  const display = currentUser ? (
    <nav className="loggedin-nav-bar">
      <NavLink to="/">
        <svg className="svg-logo" width="21px" height="28px" viewBox="0 0 21 28" version="1.1">
          <g stroke="none" strokeWidth="1" fillRule="evenodd">
            <path d="M8.723625,21.7500267 L8.5395,21.8112533 C7.35375,22.2036267 5.60025,22.8073067 4.025625,23.5282133 C3.94125,23.5674133 3.886125,23.6771733 3.886125,23.6771733 C3.8565,23.74512 3.81975,23.828 3.778125,23.9217067 L3.77325,23.9336533 C3.595875,24.3334933 3.3525,24.9349333 3.24975,25.1790933 L3.168,25.3721067 C3.15525,25.4030933 3.163125,25.4381867 3.186375,25.46096 C3.201375,25.4751467 3.2205,25.4829867 3.240375,25.4837333 C3.25275,25.4837333 3.265125,25.48112 3.27675,25.4751467 L3.4665,25.3855467 C3.8985,25.1813333 4.44225,24.87184 5.014875,24.6011733 L5.034375,24.5922133 C6.12225,24.07888 7.349625,23.4990933 8.087625,23.14816 C8.088375,23.1477867 8.20725,23.0850667 8.266875,22.9663467 L8.820375,21.8616533 C8.835,21.8329067 8.8305,21.7981867 8.809125,21.7735467 C8.788875,21.7489067 8.753625,21.74032 8.723625,21.7500267"></path><path d="M4.303125,20.03792 C4.380375,19.8863467 4.738875,19.1994133 4.82025,19.0456 L4.83525,19.0194667 C7.236375,14.5096 10.162875,10.25584 13.531875,6.37690667 L13.62525,6.26938667 C13.6545,6.23578667 13.659375,6.18837333 13.638,6.14917333 C13.616625,6.10997333 13.57275,6.08869333 13.528875,6.09429333 L13.388625,6.11370667 C11.17725,6.41685333 8.940375,6.83648 6.736125,7.36101333 C6.5175,7.42149333 6.37575,7.56373333 6.345375,7.59696 C4.69575,9.56330667 3.133125,11.6341867 1.70025,13.7550933 C1.62825,13.8618667 1.620375,14.11872 1.620375,14.11872 C1.620375,14.11872 1.981875,16.88064 2.507625,18.9164267 C1.204125,22.6471467 0.04125,27.5628267 0.04125,27.5628267 C0.03225,27.59456 0.03825,27.62928 0.058125,27.6557867 C0.078,27.6822933 0.10875,27.6983467 0.142125,27.69984 L0.88425,27.69984 C0.930375,27.7005867 0.972,27.6725867 0.987375,27.6296533 L1.03875,27.4911467 C1.796625,25.4352 2.65875,23.40576 3.6135,21.42784 C3.835875,20.96752 4.303125,20.03792 4.303125,20.03792"></path><path d="M14.61975,7.18293333 L14.61825,7.04256 C14.617125,6.99813333 14.58975,6.95856 14.54775,6.94362667 C14.506125,6.92832 14.458875,6.93989333 14.429625,6.97349333 L14.337,7.08026667 C10.408875,11.6032 7.10775,16.62416 4.523625,22.0016533 L4.463625,22.1274667 C4.44525,22.16704 4.452375,22.2148267 4.48275,22.2461867 C4.503,22.26784 4.53,22.2794133 4.5585,22.28016 C4.57275,22.28016 4.58775,22.2775467 4.601625,22.2719467 L4.731,22.21856 C6.937125,21.3087467 9.19125,20.51952 11.42925,19.87552 C11.5635,19.83744 11.676375,19.7441067 11.7405,19.6205333 C12.723,17.7165333 14.999625,14.03024 14.999625,14.03024 C15.05775,13.9466133 15.0435,13.8237867 15.0435,13.8237867 C15.0435,13.8237867 14.644875,9.41434667 14.61975,7.18293333" id="Fill-3"></path><path d="M17.075625,0.0888533333 C15.93525,0.0645866667 14.579625,0.308746667 13.043625,0.81312 C12.813375,0.89376 12.6315,1.02032 12.466875,1.18122667 C10.906125,2.64096 9.38625,4.18917333 7.95,5.78890667 L7.840125,5.91061333 C7.809,5.94496 7.8045,5.99536 7.82775,6.03530667 C7.851375,6.07525333 7.8975,6.09578667 7.942875,6.08608 L8.102625,6.05173333 C10.418625,5.55893333 12.754125,5.18224 15.046125,4.93285333 C15.19725,4.91642667 15.352875,4.96682667 15.465375,5.06912 C15.579375,5.17216 15.643125,5.31925333 15.640125,5.47232 C15.6015,7.73696 15.684375,10.0131733 15.887625,12.2374933 L15.901125,12.38272 C15.90525,12.42752 15.936375,12.46448 15.979875,12.4760533 C16.040625,12.4809067 16.074375,12.4641067 16.09575,12.43424 L16.17975,12.3151467 C17.472,10.48096 18.876375,8.69717333 20.356125,7.0112 C20.51925,6.82304 20.5635,6.70469333 20.594625,6.53408 C21.06,3.56981333 20.341125,1.37834667 19.69875,0.823573333 C19.141125,0.34272 18.331875,0.116106667 17.075625,0.0888533333 Z">
            </path>
          </g>
        </svg>
      </NavLink>
      <section className="site-navigation">
        <StockSearchBarContainer />
        <section className="loggedin-nav-links">
          <div className="loggedin-nav-link" onClick={toggleMode}>Dark Mode</div>
          <NavLink to="/" className="loggedin-nav-link">Home</NavLink>
          <button onClick={logout} className="loggedin-nav-link">Log Out</button>
        </section>
      </section>
    </nav>
  ) : (
      <nav className="nav-bar">
        <img src={window.images.logo} />
        <section className="nav-links">
          <button onClick={demoLogin} className="nav-link">Demo</button>
          <NavLink to="/login" className="nav-link">Log In</NavLink>
          <NavLink to="/signup" className="nav-link">Sign Up</NavLink>
        </section>
      </nav>
    );
  return (
    <div>
      {display}
    </div>
  );
};

export default NavBar;
